<div class="register-form-container">
  <h2 class="form-title">Create Company Account</h2>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="styled-form" novalidate>

    <div class="mb-3">
      <label for="companyName" class="form-label fw-bold">Company Name</label>
      <input id="companyName" type="text" class="form-control" [ngClass]="{ 'is-invalid': isFieldInvalid('companyName') }"
             formControlName="companyName">
      <div class="invalid-feedback">Company name is required.</div>
    </div>

    <div class="mb-3">
      <label for="website" class="form-label fw-bold">Company Website</label>
      <input id="website" type="url" class="form-control" formControlName="website">
    </div>

    <div class="mb-3">
      <label for="industry" class="form-label fw-bold">Industry</label>
      <input id="industry" type="text" class="form-control" formControlName="industry">
    </div>

    <div class="mb-3">
      <label for="email" class="form-label fw-bold">Email</label>
      <input id="email" type="email" class="form-control" [ngClass]="{ 'is-invalid': isFieldInvalid('email') }"
             formControlName="email">
      <div class="invalid-feedback" *ngIf="registerForm.get('email')?.errors?.['required']">Email is required.</div>
      <div class="invalid-feedback" *ngIf="registerForm.get('email')?.errors?.['email']">Enter a valid email.</div>
    </div>

    <div class="mb-3">
      <label for="phoneNumber" class="form-label fw-bold">Phone Number</label>
      <input id="phoneNumber" type="text" class="form-control" formControlName="phoneNumber">
    </div>

    <div class="mb-3">
      <label for="username" class="form-label fw-bold">Username</label>
      <input id="username" type="text" class="form-control"
             [ngClass]="{
               'is-invalid': isFieldInvalid('username') ||
                             registerForm.get('username')?.hasError('usernameTaken')
             }"
             formControlName="username">
    
      <div class="invalid-feedback" *ngIf="registerForm.get('username')?.hasError('required') && (registerForm.get('username')?.touched || isSubmitted)">
        Username is required.
      </div>
    
      <div class="invalid-feedback" *ngIf="registerForm.get('username')?.hasError('usernameTaken') && registerForm.get('username')?.touched">
        This username is already taken.
      </div>
    </div>
    
    <div class="mb-3">
      <label for="password" class="form-label fw-bold">Password</label>
      <input id="password" type="password" class="form-control" [ngClass]="{ 'is-invalid': isFieldInvalid('password') }"
             formControlName="password">
      <div class="invalid-feedback">Password is required.</div>
    </div>

    <button type="submit" class="btn submit-btn w-100">Register</button>
  </form>
</div>
